<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
/* 
# 변수와 객체의 할당.
1. 자바와 동일하게 일반변수는 stack을 활용하고,
	객체는 heap영역의 주소값을 stack에 할당하여 사용한다.
2. 일반변수의 할당 해당값을 직접적으로 변경해준다.
3. 객체의 할당의 주소값을 할당하기에, 
	할당 이후 같은 주소값을 사용하는 이상 속성의 변경은 할당해준 객체에도 영향을 미친다.
4. 얕은 복사 vs 깊은 복사.
	1) 얕은 복사 : 객체 선언 후, 해당 객체를 대입연산자에 의해 할당할 때, 
	얕은 복사가 이루어져 참조되는 변수를 사용하기에 같은 객체를 사용하게 된다. - 얕은 복사는 복사된 모든 변수가 동일한 값을 사용하게 된다.
	2) 깊은 복사 : 객체 선언후 메서드나 내장함수에 의해 객체를 생성후
	속성과 속성값까지 할당하여 처리하는 복사를 말한다.
	다른 heap메모리를 사용하기에 복사한 객체에 영향이 없다.
 
*/
//
	//변수를 선언합니다.
	var originalValue = 10;
	var newValue = originalValue;
	//원본값을 변경합니다.
	originalValue = 273;
	//출력합니다.
	console.log(originalValue);
	console.log(newValue);
	//변수를 선언합니다.
	var originalArray=[1,2,3,4];
	var newArray=originalArray;	//얕은 복사
	//원본 배열의 값을 변경합니다.
	originalArray[0] = 273;
	//출력합니다.
	//같은 객체를 사용하기에 두개 데이터는 동일.
	console.log(originalArray);
	console.log(newArray);

//ex) var p01(이름/나이/사는곳)으로 var p02에 할당한 후에 데이터 속성값 변경시, 두개의 객체 데이터 비교하세요
var p01 = {name:'홍길동', age:25, loc:'서울 신림동'};
var p02 = p01;	//heap영역의 주소값이 있는 stack을 할당.
p01.loc="서울 강남역";
console.log(p01);
console.log(p02);
/*
# 새로운 메모리를 만들어 복사해서
다른 객체로 처리 : cloned(객체)
 */
 function clone(obj){
	var output={};	//새로운 객체를 생성해서 만드는 깊은 복사는 새로운 메모리를 만드는것이기 때문에 영향을 받지 않는다.
	for(var i in obj){
		output[i]=obj[i];
	}
	//새로운 객체에(새로운 주소에서 만들어진 객체)
	// 속성을 할당 후, return
	return output;
}
//테스트합니다.
var original = {a:10, b:20};	// 원본객체
var referenced = original;		// 얕은 복사 객체(주소 복사)
var cloned = clone(original);	// 깊은 복사 객체(새로운 객체 생성)
console.log(original);
console.log(cloned);
//이때는 값이 같음
//clone함수는 obj에 영향을 받게끔 만들어놨기 때문에
//출력했을때 obj가 바뀌면 함께 바뀌는건가부다.


//원본의 값 변경
original.a=20;
//확인
//JSON.stringify : 객체를 문자형태의 json데이터로 출력..
console.log(JSON.stringify(referenced,null,2));
console.log(JSON.stringify(cloned,null,2));

// [하] 4. 깊은 복사 함수 copy01()를 선언하여, 복사하더라도 새로운 객체 메모리가 생성되어 리턴되게 하고, 확인 객체로
// member(회원멤버-ID,PASS,NAME,POINT)로 비교하세요
 function copy01(obj){
	var output={};
	for(var i in obj){
		output[i]=obj[i];
	}
	return output;
}


</script>
</head>
<body>
   <h2></h2>
   <h3></h3>	<!-- DOM 객체이고 stack heap영역을 가지고 있다. 객체 copy는 정확하게 이해가 필요. -->
</body>
<script type="text/javascript">
/* 
 
 
*/
   document.querySelector("h2").innerHTML="js 시작^^";
//

</script>